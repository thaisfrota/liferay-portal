definition {

	macro addField {
		Navigator.gotoSidebarTab(tabName = "Builder");

		Navigator.gotoNavTab(navTab = "Fields");

		if (!(isSet(fieldLocation))) {
			var fieldLocation = "last()";
		}

		DragAndDrop.javaScriptDragAndDropToObject(
			key_fieldLocation = "${fieldLocation}",
			key_fieldName = "${fieldName}",
			locator1 = "Sidebar#ADD_FIELD_NAME",
			locator2 = "Sidebar#ADD_FIELD_POSITION",
			value1 = "${fieldName}");

		WaitForVisible(locator1 = "Sidebar#BACK");

		Type(
			key_fieldLabel = "Label",
			locator1 = "TextInput#GENERIC_TEXT_INPUT",
			value1 = "${fieldLabel}");

		Click(locator1 = "Sidebar#BACK");
	}

	macro getFieldReference {
		if (!(isSet(index))) {
			var index = "1";
		}

		DEStructure.openField(
			fieldLabel = "${fieldLabel}",
			index = "${index}");

		Navigator.gotoNavTab(navTab = "Advanced");

		var fieldReference = selenium.getElementValue(locator1 = "Sidebar#DDM_FIELD_REFERENCE");

		Click(locator1 = "Sidebar#BACK");

		return "${fieldReference}";
	}

	macro openField {
		if (!(isSet(index))) {
			var index = "1";
		}

		if (IsElementPresent(locator1 = "Modal#MODAL")) {
			AssertClick.assertPartialTextClickAt(
				index = "${index}",
				key_fieldLabel = "${fieldLabel}",
				locator1 = "DataEngineBuilder#FIELD_LABEL_IN_MODAL_INDEXED",
				value1 = "${fieldLabel}");
		}
		else {
			AssertClick.assertPartialTextClickAt(
				index = "${index}",
				key_fieldLabel = "${fieldLabel}",
				locator1 = "DataEngineBuilder#FIELD_LABEL_INDEXED",
				value1 = "${fieldLabel}");
		}
	}

}